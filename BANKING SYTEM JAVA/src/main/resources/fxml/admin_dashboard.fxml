<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.*?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.bank.controller.AdminDashboardController"
            prefWidth="1000" prefHeight="700">

    <!-- ================= TOP BAR ================= -->
    <top>
        <VBox style="-fx-background-color: linear-gradient(#0d2c1d, #072617); -fx-padding: 20;">
            <HBox alignment="CENTER_LEFT" spacing="20">

                  <Label text="TH3FATH3R BANKING"
                      style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: white; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.4), 8, 0, 0, 2);" />
                  <Label fx:id="welcomeLabel" text="Admin Dashboard"
                      style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: white;" />

                <Region />

                <Button text="Refresh" onAction="#handleRefresh"
                        style="-fx-background-color: #1d8f57; -fx-text-fill: white; -fx-font-weight: bold;" />

                <Button text="Logout" onAction="#handleLogout"
                        style="-fx-background-color: #c0392b; -fx-text-fill: white; -fx-font-weight: bold;" />

            </HBox>
        </VBox>
    </top>


    <!-- ================= CENTER â€“ TAB PANE ================= -->
    <center>
        <TabPane fx:id="mainTabPane"
                 tabClosingPolicy="UNAVAILABLE"
                 style="-fx-padding: 10;">

            <!-- ========== CUSTOMER MANAGEMENT TAB ========== -->
            <Tab text="Customer Management">
                <VBox spacing="10" style="-fx-padding: 15;">

                    <Label text="Customer List"
                           style="-fx-font-size: 16px; -fx-font-weight: bold;" />

                    <TableView fx:id="customersTable">
                        <columns>
                            <TableColumn fx:id="customerIdCol" text="ID" prefWidth="60"/>
                            <TableColumn fx:id="customerNameCol" text="Full Name" prefWidth="180"/>
                            <TableColumn fx:id="customerUsernameCol" text="Username" prefWidth="120"/>
                            <TableColumn fx:id="customerStatusCol" text="Status" prefWidth="100"/>
                        </columns>
                    </TableView>

                    <HBox alignment="CENTER" spacing="10">

                        <Button text="Approve Customer"
                                style="-fx-background-color: #2ecc71; -fx-text-fill: white; -fx-font-weight: bold; -fx-pref-width: 150;"
                                onAction="#handleApproveCustomer"/>

                        <Button text="Reject Customer"
                                style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-font-weight: bold; -fx-pref-width: 150;"
                                onAction="#handleRejectCustomer"/>

                        <Button text="Open Account for Customer"
                                style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-pref-width: 200;"
                                onAction="#handleOpenAccountForCustomer"/>

                    </HBox>
                </VBox>
            </Tab>


            <!-- ========== ACCOUNT MANAGEMENT TAB ========== -->
            <Tab text="Account Management">
                <VBox spacing="10" style="-fx-padding: 15;">

                    <Label text="Account List"
                           style="-fx-font-size: 16px; -fx-font-weight: bold;" />

                    <TableView fx:id="accountsTable">
                        <columns>
                            <TableColumn fx:id="accountNumberCol" text="Account Number" prefWidth="150"/>
                            <TableColumn fx:id="accountCustomerIdCol" text="Customer ID" prefWidth="100"/>
                            <TableColumn fx:id="accountTypeCol" text="Type" prefWidth="120"/>
                            <TableColumn fx:id="accountBalanceCol" text="Balance" prefWidth="120"/>
                            <TableColumn fx:id="accountStatusCol" text="Status" prefWidth="100"/>
                        </columns>
                    </TableView>

                    <HBox alignment="CENTER" spacing="10">

                        <Button text="Approve Account"
                                style="-fx-background-color: #2ecc71; -fx-text-fill: white; -fx-font-weight: bold; -fx-pref-width: 150;"
                                onAction="#handleApproveAccount"/>

                        <Button text="Reject Account"
                                style="-fx-background-color: #e67e22; -fx-text-fill: white; -fx-font-weight: bold; -fx-pref-width: 150;"
                                onAction="#handleRejectAccount"/>

                        <Button text="Delete Account"
                            style="-fx-background-color: #c0392b; -fx-text-fill: white; -fx-font-weight: bold; -fx-pref-width: 150;"
                            onAction="#handleDeleteAccount"/>

                    </HBox>
                </VBox>
            </Tab>

        </TabPane>
    </center>

</BorderPane>
